<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <title>Wiki Data Browser/Sites</title>
  <script>
    var myHeaders = new Headers()
    myHeaders.append('My-Preflight-Header', 'Success?')
    fetch("https://createwikigatheringsettings.azurewebsites.net/api/GetItemData",{method: 'GET', mode: 'cors', headers: myHeaders}).then(
        result => result.json().then(
            jsonData => {
              var span = document.getElementById('linkslist')
              for (var id in jsonData)
              {
                var newA = document.createElement('a')
                newA.textContent = jsonData[id].title
                newA.href =  "SiteOptions.html?site=" + jsonData[id].link
                span.appendChild(newA)
                span.appendChild(document.createElement('br'))
              }
            }
        ))
  </script>
</head>

<body>
  <header><a href="/"></a></header>
  <main>
    <h1>Available sites: </h1>
    <span id="linkslist"></span>
  </main>
</body>

</html>